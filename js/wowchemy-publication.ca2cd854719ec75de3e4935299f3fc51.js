var a={},u,s,l=$("#container-publications");if(l.length){l.isotope({itemSelector:".isotope-item",percentPosition:!0,masonry:{columnWidth:".grid-sizer"},filter:function(){let t=$(this),i=u?t.text().match(u):!0,o=s?t.is(s):!0;return i&&o}});let e=$(".filter-search").keyup(m(function(){u=new RegExp(e.val(),"gi"),l.isotope()}));$(".pub-filters").on("change",function(){let i=$(this)[0].getAttribute("data-filter-group");if(a[i]=this.value,s=d(a),l.isotope(),i==="pubtype"){let o=$(this).val();o.substr(0,9)===".pubtype-"?window.location.hash=o.substr(9):window.location.hash=""}})}function m(e,t){let i;return t=t||100,function(){clearTimeout(i);let n=arguments,r=this;function c(){e.apply(r,n)}i=setTimeout(c,t)}}function d(e){let t="";for(let i in e)t+=e[i];return t}function h(){if(!l.length)return;let e=window.location.hash.replace("#",""),t="*";e!=""&&(t=".pubtype-"+e);let i="pubtype";a[i]=t,s=d(a),l.isotope(),$(".pubtype-select").val(t)}document.addEventListener("DOMContentLoaded",function(){$(".pub-filters-select")&&h(),$(".js-cite-modal").click(function(o){o.preventDefault();let n=$(this).attr("data-filename"),r=$("#modal");r.find(".modal-body code").load(n,function(c,f,p){f=="error"?$("#modal-error").html("Error: "+p.status+" "+p.statusText):$(".js-download-cite").attr("href",n)}),r.modal("show")});let e=document.createElement("button"),t=["btn","btn-primary","btn-copy-code"];e.classList.add(...t),e.innerHTML=i18n.copy;function i(){e.innerHTML=i18n.copied,setTimeout(()=>{e.innerHTML=i18n.copy},2e3)}$(".js-copy-cite").click(function(o){o.preventDefault();let n=document.querySelector("#modal .modal-body code").innerHTML;navigator.clipboard.writeText(n),i()})});
